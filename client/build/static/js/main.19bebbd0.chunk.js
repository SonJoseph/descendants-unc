(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{68:function(e,t,n){e.exports=n(83)},73:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),s=n.n(o),c=(n(73),n(112)),l=n(37);var i=function(){return r.a.createElement("div",null,r.a.createElement("h1",null," The Descendants Project "),r.a.createElement(l.b,{to:"/select"},r.a.createElement(c.a,{variant:"outlined",color:"primary"}," View A Tree  ")))},u=n(26),h=n.n(u),m=n(36),p=n(31),d=n(18),f=n(40),w=n(41),v=n(44),g=n(115),y=n(84),E=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(w.a)(t).call(this,e))).getTreeRoots=Object(m.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/gettrees");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n.setState({tree_roots:a.tree_roots});case 7:case"end":return e.stop()}}),e)}))),n.updateTree=function(e){n.props.history.push({pathname:"/update",state:{family:e}})},n.state={tree_roots:[]},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getTreeRoots()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Select tree"),r.a.createElement(g.a,null,this.state.tree_roots.map((function(t){return r.a.createElement(y.a,null," ",r.a.createElement(c.a,{onClick:function(){return e.updateTree(t)},variant:"outlined",color:"primary"}," ",t," ")," ")}))))}}]),t}(r.a.Component),P=n(121),T=n(116),b=n(123),j=n(119),k=n(120),W=n(57),x=(n(79),n(56)),O=n.n(x),S=(n(81),n(58));window.d3=W;var C=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(w.a)(t).call(this,e))).getTree=Object(m.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/gettree/"+n.state.family);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n.setState({tree:a}),n.drawTree();case 8:case"end":return e.stop()}}),e)}))),n.drawTree=function(){var e=n.state.tree;O.a.init(e,{target:n.refs.tree,debug:!0,height:800,width:1200,callbacks:{nodeClick:n.chooseNode},margin:{top:0,right:0,bottom:0,left:0},nodeWidth:100,styles:{node:"node",linage:"linage",marriage:"marriage",text:"nodeText"}})},n.chooseNode=function(e,t,a){n.setState({newPerson:{relnWith:e,name:n.state.newPerson.name,relnType:n.state.newPerson.relnType}})},n.typeName=function(e){n.setState({newPerson:{name:e.target.value,relnType:n.state.newPerson.relnType,relnWith:n.state.newPerson.relnWith}}),console.log(e.target.value)},n.selectRelationship=function(e){n.setState({newPerson:{name:n.state.newPerson.name,relnType:e.target.value,relnWith:n.state.newPerson.relnWith}}),console.log(n.state.newPerson.relnType)},n.createNode=Object(m.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/api/createnode/name="+n.state.newPerson.name+"&relnWith="+n.state.newPerson.relnWith+"&relnType="+n.state.newPerson.relnType,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,console.log(r),n.getTree();case 9:case"end":return e.stop()}}),e)}))),n.state={family:e.location.state.family,tree:[],newPerson:{name:"",relnType:"",relnWith:""},confirm_msg:""},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getTree()}},{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement(S.a,{split:"vertical",defaultSize:350},r.a.createElement("div",null,"Selected Person: ",this.state.newPerson.relnWith,r.a.createElement(P.a,{label:"New Person",value:this.state.newPerson.name,onChange:this.typeName}),r.a.createElement(b.a,null,"What is ",this.state.newPerson.relnWith,"'s relationship to ",this.state.newPerson.name," "),r.a.createElement(k.a,{value:this.state.newPerson.relnType,onChange:this.selectRelationship},r.a.createElement(j.a,{value:"spouse"},"Spouse"),r.a.createElement(j.a,{value:"parent"},"Parent")),r.a.createElement(c.a,{onClick:this.createNode},"Create Node"),this.state.confirm_msg),r.a.createElement("div",null,this.state.family,"'s Family",r.a.createElement("svg",{ref:"tree",id:"graph",width:800,height:500}))))}}]),t}(r.a.Component),N=n(25);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(N.a,{exact:!0,path:"/",component:i}),r.a.createElement(N.a,{path:"/select",component:E}),r.a.createElement(N.a,{path:"/update",component:C})));s.a.render(_,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[68,1,2]]]);
//# sourceMappingURL=main.19bebbd0.chunk.js.map